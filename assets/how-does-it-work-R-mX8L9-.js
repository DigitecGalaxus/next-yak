import{u as i,j as s}from"./index-FisaUqB0.js";const e={title:"How does it work?",description:"undefined"};function h(e){const h={a:"a",code:"code",div:"div",figcaption:"figcaption",figure:"figure",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",...i(),...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(h.header,{children:s.jsxs(h.h1,{id:"how-does-it-work",children:["How does it work?",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-does-it-work",children:s.jsx(h.div,{"data-autolink-icon":!0})})]})}),"\n",s.jsxs(h.p,{children:["This is for the curious minds who want to know how ",s.jsx(h.code,{children:"next-yak"})," works under the hood and it's not necessary\nto understand it in order to use it."]}),"\n",s.jsxs(h.h2,{id:"the-basics",children:["The basics",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-basics",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsxs(h.p,{children:[s.jsx(h.code,{children:"next-yak"})," has 3 parts:"]}),"\n",s.jsxs(h.ol,{children:["\n",s.jsx(h.li,{children:"The compile time part"}),"\n",s.jsx(h.li,{children:"The runtime part"}),"\n",s.jsx(h.li,{children:"Optional: Context"}),"\n"]}),"\n",s.jsx(h.p,{children:"The compile time part is responsible for extracting styles and transforming your code into something that uses\nthe runtime part. The runtime part is responsible for merging styles and props."}),"\n",s.jsxs(h.h2,{id:"the-compile-time-part",children:["The compile time part",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-compile-time-part",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsxs(h.p,{children:[s.jsx(h.code,{children:"next-yak"})," uses two webpack loaders to transform your code. The first loader is responsible for transforming the\nusages of the tagged template literals (like ",s.jsx(h.code,{children:"styled"})," and ",s.jsx(h.code,{children:"css"}),") and the second loader is responsible for transforming\nthe styles into real CSS."]}),"\n",s.jsxs(h.h3,{id:"the-first-loader-tsloadercjs",children:["The first loader ",s.jsx(h.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/loaders/tsloader.cjs",children:"(tsloader.cjs)"}),s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-first-loader-tsloadercjs",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsxs(h.p,{children:["The first loader takes in the source code and transforms the tagged template literals into ",s.jsx(h.code,{children:"next-yak"})," runtime function\ncalls with the imported styles (from the second loader) as arguments. It also transforms the dynamic parts of the\ntagged template literals into function calls with the properties as argument and adds it as css value to the style object."]}),"\n",s.jsxs(h.h4,{id:"add-style-import",children:["Add style import",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#add-style-import",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The first step of the transformation is to add the import statement for the styles. These styles don't exist yet, but\nwill be generated by the second loader."}),"\n",s.jsxs(h.figure,{"data-rehype-pretty-code-figure":"",children:[s.jsx(h.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"output"}),s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsx(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})})})]}),"\n",s.jsxs(h.p,{children:["This strange looking import string is a poorly documented feature of webpack. It uses the ",s.jsx(h.a,{href:"https://webpack.js.org/api/loaders/#inline-matchresource",children:"Inline matchResource"})," to instrument webpack to use the loaders as if it was a normal ",s.jsx(h.code,{children:".module.css"})," file\nthat points to the current file (",s.jsx(h.code,{children:"./page"}),"). In order that this import statement works in next.js, we need to add\na query parameter that ends with ",s.jsx(h.code,{children:".module.css"}),", as this is the way next.js recognizes CSS modules."]}),"\n",s.jsxs(h.p,{children:["So that means ",s.jsx(h.code,{children:"./page.yak.module.css"})," is a virtual file that is generated by the second loader and contains the\nstyles of the current file. ",s.jsx(h.code,{children:"./page.yak.module.css!=!./page"})," says that the second loader (matching ",s.jsx(h.code,{children:".yak.module.css"})," files) should\nbe used with the current file as input. Lastly ",s.jsx(h.code,{children:"?./page.yak.module.css"})," is the query parameter that tells next.js that this\nis a CSS module and it's loaders should be used."]}),"\n",s.jsxs(h.h4,{id:"transform-tagged-template-literals",children:["Transform tagged template literals",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-tagged-template-literals",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsxs(h.p,{children:["As the next step, the tagged template literals are transformed into ",s.jsx(h.code,{children:"next-yak"}),' runtime function calls. The static\nCSS parts are passed as references to the class names from the "not yet generated" css module file.']}),"\n",s.jsxs(h.div,{className:"code-group",children:[s.jsx(h.div,{"data-title":"input",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-size: 2rem;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-weight: bold;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  color: blue;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  &:hover {"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    color: red;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  }"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),s.jsx(h.div,{"data-title":"output",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.Button); "})]})]})})})})]}),"\n",s.jsx(h.p,{children:"The dynamic parts are preserved and apply the classes or CSS variables at runtime. There are two different types\nof dynamic parts: The first type is the dynamic CSS property value (color in the following example) and the second type is the dynamic CSS property itself (background in the following example)."}),"\n",s.jsx(h.p,{children:"The property value is transformed into a CSS variable and set on the element itself directly based on the functions return value."}),"\n",s.jsx(h.p,{children:"The property itself is transformed into a class name that is referenced during runtime when the function returns them."}),"\n",s.jsxs(h.div,{className:"code-group",children:[s.jsx(h.div,{"data-title":"input",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tfont-size: 2rem;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tfont-weight: bold;"})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tcolor: ${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: black;`"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: white;`}"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    &:hover {"})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t\tcolor: ${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t}"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),s.jsx(h.div,{"data-title":"output",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t__styleYak.Button, "})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"\tprops"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.propsprimary_0) "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.not_propsprimary_1), "})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t{"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'      "style"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'        "--'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#005CC5"},children:"\\uD83E\\uDDAC"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'18fi82j0"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", "})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'        "--'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#005CC5"},children:"\\uD83E\\uDDAC"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'18fi82j1"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"      }"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"});"})})]})})})})]}),"\n",s.jsxs(h.h3,{id:"the-second-loader-cssloadercjs",children:["The second loader ",s.jsx(h.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/loaders/cssloader.cjs",children:"(cssloader.cjs)"}),s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-second-loader-cssloadercjs",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The second loader runs after the first loader changed the import, takes in the styles and transforms it into real\nCSS inside CSS-Modules. It also generates a class name for each static and dynamic style in order to reference it in the first loader. It translates dynamic property values into CSS variables and adds it to the class selector."}),"\n",s.jsxs(h.h4,{id:"remove-imports",children:["Remove imports",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#remove-imports",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The first step of the transformation is to remove all import statements as the input is the normal JS file and we need to output a CSS file."}),"\n",s.jsxs(h.h4,{id:"transform-static-styles",children:["Transform static styles",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-static-styles",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The static styles are transformed into CSS classes. The class names are generated based on the component name and referenced\nin the first loader."}),"\n",s.jsxs(h.div,{className:"code-group",children:[s.jsx(h.div,{"data-title":"input",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-size: 2rem;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-weight: bold;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  color: blue;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  &:hover {"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    color: red;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  }"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),s.jsx(h.div,{"data-title":"output",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{tabIndex:"0","data-language":"css","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"css","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  font-size"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"2"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"rem"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  font-weight"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"bold"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  color"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"blue"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  &:hover {"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"    color"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"red"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  }"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})})})]}),"\n",s.jsxs(h.h4,{id:"transform-dynamic-styles",children:["Transform dynamic styles",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-dynamic-styles",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsxs(h.p,{children:["The dynamic property styles are transformed into nested ",s.jsx(h.code,{children:":where"})," selectors that don't alter the specificity of the selector. The class names are generated based on the condition of the properties and used in the first loader. For dynamic property\nvalues, the value is transformed into a CSS variable."]}),"\n",s.jsxs(h.div,{className:"code-group",children:[s.jsx(h.div,{"data-title":"input",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tfont-size: 2rem;"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tfont-weight: bold;"})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\tcolor: ${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: black;`"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: white;`}"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    &:hover {"})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t\tcolor: ${"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"\t}"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),s.jsx(h.div,{"data-title":"output",children:s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{className:"has-focused",tabIndex:"0","data-language":"css","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"css","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".Button"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\tfont-size"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"2"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"rem"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\tfont-weight"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"bold"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\tcolor"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"var"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"--🦬18fi82j0"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"); "})]}),"\n",s.jsx(h.span,{className:"focused","data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t&:where(.propsprimary_0) { "})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\t\tbackground"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"black"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"; "})]}),"\n",s.jsx(h.span,{className:"focused","data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t} "})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t&"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:":where"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".not_propsprimary_1"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:") { "})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\t\tbackground"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"white"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"; "})]}),"\n",s.jsx(h.span,{className:"focused","data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t} "})}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t&"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:":hover"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { "})]}),"\n",s.jsxs(h.span,{className:"focused","data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"\t\tcolor"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"var"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"--🦬18fi82j1"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"); "})]}),"\n",s.jsx(h.span,{className:"focused","data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t} "})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})})})]}),"\n",s.jsxs(h.h2,{id:"the-runtime-part",children:["The runtime part",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-runtime-part",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The runtime part is responsible for merging styles and props. It's a simple function that takes in the styles and the props and returns the merged styles."}),"\n",s.jsxs(h.p,{children:["See: ",s.jsx(h.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/styled.tsx",children:"Styled function"})]}),"\n",s.jsx(h.p,{children:"A lot of this code is types and comments to indicate why certain things are done. The actual runtime code is very small."}),"\n",s.jsxs(h.h2,{id:"context",children:["Context",s.jsx(h.a,{"aria-hidden":"true",tabIndex:"-1",href:"#context",children:s.jsx(h.div,{"data-autolink-icon":!0})})]}),"\n",s.jsx(h.p,{children:"The yak theme context allows you to configure the theme of your yak application. It works for react-server components\nand normal react components."}),"\n",s.jsx(h.p,{children:"The first part of the puzzle is to export two different modules for the server and the client."}),"\n",s.jsx(h.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(h.pre,{tabIndex:"0","data-language":"json","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"json","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./context"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t"react-server"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t\t"import"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.server.js"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:","})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t\t"require"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.server.cjs"'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t},"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t"default"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t\t"import"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.js"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:","})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'\t\t"require"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.cjs"'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\t}"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})}),"\n",s.jsx(h.p,{children:"For the client components, we use the default context from react."}),"\n",s.jsxs(h.figure,{"data-rehype-pretty-code-figure":"",children:[s.jsx(h.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"client: index.tsx"}),s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"use client"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// This file is the client component (browser & ssr) version of index.server.tsx"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" React, { ReactNode, createContext, useContext } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" interface"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {}"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * The yak theme context"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" YakContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" createContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"<"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:"YakTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">({});"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * Returns the current yak theme context"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" *"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" useTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ()"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" useContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(YakContext);"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * Yak theme context provider"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" *"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" YakThemeProvider"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ({"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  children,"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  theme "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {},"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"  children"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" ReactNode"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"  theme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?:"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}) "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" <"}),s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakContext.Provider"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" value"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"theme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"children"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"</"}),s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakContext.Provider"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">;"})]})]})})]}),"\n",s.jsxs(h.p,{children:["For the server components, we use a module that exports exactly the same API as the one for client components, but with a different implementation where we use the ",s.jsx(h.code,{children:"cache"})," function from react to cache the result of the context."]}),"\n",s.jsxs(h.figure,{"data-rehype-pretty-code-figure":"",children:[s.jsx(h.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"server: index.server.tsx"}),s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// This file is the react-server component version of index.tsx"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:'// @ts-ignore - in the current @types/react "cache" is not typed'})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" React, { ReactNode, cache } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { YakThemeProvider "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"as"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" YakThemeClientProvider } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./index.js"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// the following import might be changed by"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// the user config in withYak to point to their own"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// context"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { getYakThemeContext } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak/context/baseContext"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" useTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cache"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(() "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" getYakThemeContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"());"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" YakThemeProvider"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ({ "}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"children"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" }"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { "}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"children"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" ReactNode"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" }) "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"  return"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ("})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    <"}),s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakThemeClientProvider"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" theme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"useTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"      {"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"children"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    </"}),s.jsx(h.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakThemeClientProvider"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  );"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"};"})})]})})]}),"\n",s.jsxs(h.p,{children:["The ",s.jsx(h.code,{children:"getYakThemeContext"})," function is imported from the user's ",s.jsx(h.code,{children:"yak.context.ts"})," file. This file is a regular typescript file that exports a function that returns the theme context. You can use every api that works with server components like ",s.jsx(h.a,{href:"https://nextjs.org/docs/app/api-reference/functions/headers",children:"headers"})," or ",s.jsx(h.a,{href:"https://nextjs.org/docs/app/api-reference/functions/cookies",children:"cookies"})," and use them\nto determine your values for the theme context."]}),"\n",s.jsxs(h.figure,{"data-rehype-pretty-code-figure":"",children:[s.jsx(h.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"yak.context.ts"}),s.jsx(h.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { cookies } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:" 'next/headers'"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { cache } "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" hasHighContrast"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cache"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(() "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" cookieStore"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cookies"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    return"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" cookieStore."}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"get"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"highContrast"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:")?.value "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"==="}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "true"'})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"});"})}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" function"}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" getYakThemeContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"() {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    return"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        highContrast: "}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"hasHighContrast"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})}),"\n",s.jsx(h.span,{"data-line":"",children:" "}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"declare"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" module"}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    export"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" interface"}),s.jsx(h.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" extends"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" ReturnType"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"<"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"typeof"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" getYakThemeContext> { }"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})]}),"\n",s.jsxs(h.p,{children:["The second part of the puzzle is that the ",s.jsx(h.code,{children:"withYak"})," function changes to what file webpack resolves the context so that\nit points to the individual ",s.jsx(h.code,{children:"yak.context.ts"})," file in the root directory."]}),"\n",s.jsxs(h.figure,{"data-rehype-pretty-code-figure":"",children:[s.jsx(h.figcaption,{"data-rehype-pretty-code-title":"","data-language":"ts","data-theme":"github-dark-dimmed github-light",children:"withYak/index.ts"}),s.jsx(h.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-dark-dimmed github-light",children:s.jsxs(h.code,{"data-language":"ts","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// With the following alias the internal next-yak code "})}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// is able to import a context which works for server components"})}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),s.jsx(h.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" yakContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),s.jsx(h.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" resolveYakContext"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(yakOptions.contextPath, webpackConfig.context);"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"if"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" (yakContext) {"})]}),"\n",s.jsxs(h.span,{"data-line":"",children:[s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"\twebpackConfig.resolve.alias["}),s.jsx(h.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'next-yak/context/baseContext'"}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"] "}),s.jsx(h.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" yakContext;"})]}),"\n",s.jsx(h.span,{"data-line":"",children:s.jsx(h.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})]})]})}function t(e={}){const{wrapper:t}={...i(),...e.components};return t?s.jsx(t,{...e,children:s.jsx(h,{...e})}):h(e)}export{t as default,e as frontmatter};
